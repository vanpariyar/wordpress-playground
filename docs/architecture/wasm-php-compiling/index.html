<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/wasm-php-compiling">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Compiling PHP | WordPress Playground</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wordpress.github.io/wordpress-playground/docs/architecture/wasm-php-compiling"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Compiling PHP | WordPress Playground"><meta data-rh="true" name="description" content="The build pipeline lives in a Dockerfile. It was originally forked from seanmorris/php-wasm"><meta data-rh="true" property="og:description" content="The build pipeline lives in a Dockerfile. It was originally forked from seanmorris/php-wasm"><link data-rh="true" rel="icon" href="/wordpress-playground/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wordpress.github.io/wordpress-playground/docs/architecture/wasm-php-compiling"><link data-rh="true" rel="alternate" href="https://wordpress.github.io/wordpress-playground/docs/architecture/wasm-php-compiling" hreflang="en"><link data-rh="true" rel="alternate" href="https://wordpress.github.io/wordpress-playground/docs/architecture/wasm-php-compiling" hreflang="x-default"><link rel="stylesheet" href="/wordpress-playground/assets/css/styles.0bc3b45a.css">
<link rel="preload" href="/wordpress-playground/assets/js/runtime~main.01534534.js" as="script">
<link rel="preload" href="/wordpress-playground/assets/js/main.dda88664.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_Mndp" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wordpress-playground/"><div class="navbar__logo"><img src="/wordpress-playground/img/wordpress.svg" alt="WordPress Playground" class="themedImage_JLxq themedImage--light_qdHk"><img src="/wordpress-playground/img/wordpress.svg" alt="WordPress Playground" class="themedImage_JLxq themedImage--dark_Xc7N"></div><b class="navbar__title text--truncate">WordPress Playground</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wordpress-playground/docs/start-here">Documentation</a><a class="navbar__item navbar__link" href="/wordpress-playground/api">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/WordPress/wordpress-playground" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wSz0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OprV colorModeToggle_GWyB"><button class="clean-btn toggleButton_g_ff toggleButtonDisabled_uc5P" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_JliJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_dakX"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_n7QV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_BBNw docsWrapper_EYoY"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_m21v" type="button"></button><div class="docPage_T49S"><aside class="theme-doc-sidebar-container docSidebarContainer_etTB"><div class="sidebarViewport_Dktc"><div class="sidebar_YPx9"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SCH5"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/start-here">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/start-using">Start using WordPress Playground in 5 minutes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/build-your-first-app">Build your first app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/usage-in-node-js">Usage in Node.js</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/wordpress-playground/docs/apis-overview">Playground APIs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/query-api">Query API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/wordpress-playground/docs/blueprints-api/index">Blueprints API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/wordpress-playground/docs/javascript-api/index">JavaScript API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/wordpress-playground/docs/architecture/index">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/index">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-php-overview">WebAssembly PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-php-compiling">Compiling PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-php-javascript-module">PHP.js JavaScript module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-php-filesystem">PHP Filesystem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-php-data-dependencies">Data dependencies (browser version)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wasm-asyncify">Asyncify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-concepts">Running PHP apps in the browser with ServiceWorkers and Worker Threads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-tab-orchestrates-execution">Browser tab orchestrates the execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-iframe-rendering">Iframe-based rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-php-worker-threads">PHP Worker Threads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-service-workers">Service Workers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-scopes">Scopes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-cross-process-communication">Cross-process communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wordpress">WordPress support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/wordpress-database">How does it work?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wordpress-playground/docs/architecture/browser-wordpress">Bundling WordPress for the browser</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wordpress-playground/docs/limitations">Limitations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/wordpress-playground/docs/contributing/index">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_e0ae"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Xiwq"><div class="docItemContainer_JFP9"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_tVzI" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/wordpress-playground/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_yapy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Compiling PHP</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_Wlpy theme-doc-toc-mobile tocMobile_qs2S"><button type="button" class="clean-btn tocCollapsibleButton_niV5">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Compiling PHP</h1><p>The build pipeline lives in a <a href="https://github.com/WordPress/wordpress-playground/blob/trunk/src/packages/php-wasm/compile/Dockerfile" target="_blank" rel="noopener noreferrer"><code>Dockerfile</code></a>. It was originally forked from <a href="https://github.com/seanmorris/php-wasm" target="_blank" rel="noopener noreferrer">seanmorris/php-wasm</a></p><p>In broad strokes, that <code>Dockerfile</code>:</p><ul><li>Installs all the necessary linux packages (like <code>build-essential</code>)</li><li>Downloads PHP and the required libraries, e.g. <code>sqlite3</code>.</li><li>Applies a few patches.</li><li>Compiles everything using <a href="https://emscripten.org/" target="_blank" rel="noopener noreferrer">Emscripten</a>, a drop-in replacement for the C compiler.</li><li>Compiles <code>php_wasm.c</code> – a convenient API for JavaScript.</li><li>Outputs a <code>php.wasm</code> file and one or more JavaScript loaders, depending on the configuration.</li><li>Transforms the Emscripten&#x27;s default <code>php.js</code> output into an ESM module with additional features.</li></ul><p>To find out more about each step, refer directly to the <a href="https://github.com/WordPress/wordpress-playground/blob/trunk/src/packages/php-wasm/compile/Dockerfile" target="_blank" rel="noopener noreferrer">Dockerfile</a>.</p><h3 class="anchor anchorWithStickyNavbar_fMI7" id="building">Building<a href="#building" class="hash-link" aria-label="Direct link to Building" title="Direct link to Building">​</a></h3><p>To build all PHP versions, run <code>nx recompile-php:all php-wasm-web</code> (or <code>php-wasm-node</code>) in the repository root. You&#x27;ll find the output files in <code>packages/php-wasm/php-web/public</code>. To build a specific version, run <code>nx recompile-php:all php-wasm-node --PHP_VERSION=8.0</code>.</p><h3 class="anchor anchorWithStickyNavbar_fMI7" id="php-extensions">PHP extensions<a href="#php-extensions" class="hash-link" aria-label="Direct link to PHP extensions" title="Direct link to PHP extensions">​</a></h3><p>PHP is built with several extensions listed in the <a href="https://github.com/WordPress/wordpress-playground/blob/trunk/src/packages/php-wasm/compile/Dockerfile" target="_blank" rel="noopener noreferrer"><code>Dockerfile</code></a>.</p><p>Some extensions, like <code>zip</code>, can be turned on or off during the build. Others, like <code>sqlite3</code>, are hardcoded.</p><p>If you need to turn off one of the hardcoded extensions, feel free to open an issue in this repo. Better yet, this project needs contributors. You are more than welcome to open a PR and author the change you need.</p><h3 class="anchor anchorWithStickyNavbar_fMI7" id="c-api-exposed-to-javascript">C API exposed to JavaScript<a href="#c-api-exposed-to-javascript" class="hash-link" aria-label="Direct link to C API exposed to JavaScript" title="Direct link to C API exposed to JavaScript">​</a></h3><p>The C API exposed to JavaScript lives in the <a href="https://github.com/WordPress/wordpress-playground/blob/trunk/src/packages/php-wasm/compile/build-assets/php_wasm.c" target="_blank" rel="noopener noreferrer"><code>php_wasm.c</code></a> file. The most important functions are:</p><ul><li><code>void phpwasm_init()</code> – It creates a new PHP context and must be called before running any PHP code.</li><li><code>int phpwasm_run(char *code)</code> – Runs a PHP script and writes the output to /tmp/stdout and /tmp/stderr. Returns the exit code.</li><li><code>void phpwasm_refresh()</code> – Destroy the current PHP context and starts a new one. Call it after running one PHP script and before running another.</li></ul><p>Refer to the inline documentation in <a href="https://github.com/WordPress/wordpress-playground/blob/trunk/src/packages/php-wasm/compile/build-assets/php_wasm.c" target="_blank" rel="noopener noreferrer"><code>php_wasm.c</code></a> to learn more.</p><h3 class="anchor anchorWithStickyNavbar_fMI7" id="build-configuration">Build configuration<a href="#build-configuration" class="hash-link" aria-label="Direct link to Build configuration" title="Direct link to Build configuration">​</a></h3><p>The build is configurable via the <a href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg" target="_blank" rel="noopener noreferrer">Docker <code>--build-arg</code> feature</a>. You can set them up through the <code>build.js</code> script, just run this command to get the usage message:</p><div class="language-sh codeBlockContainer_zbXh theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RFcP"><pre tabindex="0" class="prism-code language-sh codeBlock_hldk thin-scrollbar"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#393A34"><span class="token plain">nx recompile-php php-wasm-web</span><br></span></code></pre><div class="buttonGroup_oDVH"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTZm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_xA0c"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZIiU"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Supported build options:</strong></p><ul><li><code>PHP_VERSION</code> – The PHP version to build, default: <code>8.0.24</code>. This value must point to an existing branch of the <a href="https://github.com/php/php-src.git" target="_blank" rel="noopener noreferrer">https://github.com/php/php-src.git</a> repository when prefixed with <code>PHP-</code>. For example, <code>7.4.0</code> is valid because the branch <code>PHP-7.4.0</code> exists, but just <code>7</code> is invalid because there&#x27;s no branch <code>PHP-7</code>. The PHP versions that are known to work are <code>7.4.*</code> and <code>8.0.*</code>. Others likely work as well but they haven&#x27;t been tried.</li><li><code>EMSCRIPTEN_ENVIRONMENT</code> – <code>web</code> or <code>node</code>, default: <code>web</code>. The platform to build for. When building for <code>web</code>, two JavaScript loaders will be created: <code>php-web.js</code> and <code>php-webworker.js</code>. When building for Node.js, only one loader called <code>php-node.js</code> will be created.</li><li><code>WITH_LIBXML</code> – <code>yes</code> or <code>no</code>, default: <code>no</code>. Whether to build with <code>libxml2</code> and the <code>dom</code>, <code>xml</code>, and <code>simplexml</code> PHP extensions (<code>DOMDocument</code>, <code>SimpleXML</code>, ..).</li><li><code>WITH_LIBZIP</code> – <code>yes</code> or <code>no</code>, default: <code>yes</code>. Whether to build with <code>zlib</code>, <code>libzip</code>, and the <code>zip</code> PHP extension (<code>ZipArchive</code>).</li><li><code>WITH_VRZNO</code> – <code>yes</code> or <code>no</code>, default: <code>yes</code> when PHP_VERSION is 7.<!-- -->*<!-- -->. Whether to build with <a href="https://github.com/seanmorris/vrzno/fork" target="_blank" rel="noopener noreferrer">the <code>vrzno</code> PHP extension</a> that enables running JavaScript code from PHP.</li><li><code>WITH_NODEFS</code> – <code>yes</code> or <code>no</code>, default: <code>no</code>. Whether to include <a href="https://emscripten.org/docs/api_reference/Filesystem-API.html#filesystem-api-nodefs" target="_blank" rel="noopener noreferrer">the Emscripten&#x27;s NODEFS JavaScript library</a>. It&#x27;s useful for loading files and mounting directories from the local filesystem when running php.wasm from Node.js.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/11-architecture/03-wasm-php-compiling.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ayDX" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_qB_V"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/wordpress-playground/docs/architecture/wasm-php-overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WebAssembly PHP</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wordpress-playground/docs/architecture/wasm-php-javascript-module"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PHP.js JavaScript module</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_zXaw thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building" class="table-of-contents__link toc-highlight">Building</a></li><li><a href="#php-extensions" class="table-of-contents__link toc-highlight">PHP extensions</a></li><li><a href="#c-api-exposed-to-javascript" class="table-of-contents__link toc-highlight">C API exposed to JavaScript</a></li><li><a href="#build-configuration" class="table-of-contents__link toc-highlight">Build configuration</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wordpress-playground/docs/start-here">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/wordpress-playground/api">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/WordPress/wordpress-playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wSz0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://make.wordpress.org/chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">#meta-playground on Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wSz0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 WordPress Playground, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/wordpress-playground/assets/js/runtime~main.01534534.js"></script>
<script src="/wordpress-playground/assets/js/main.dda88664.js"></script>
</body>
</html>