"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[8065],{4670:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var s=n(11),r=(n(2735),n(9530));const l={title:"Build your first Blueprint",slug:"/blueprints/tutorial/build-your-first-blueprint",description:"Six steps to your first blueprint"},a=void 0,i={unversionedId:"blueprints/tutorial/build-your-first-blueprint",id:"blueprints/tutorial/build-your-first-blueprint",title:"Build your first Blueprint",description:"Six steps to your first blueprint",source:"@site/docs/blueprints/tutorial/03-build-your-first-blueprint.md",sourceDirName:"blueprints/tutorial",slug:"/blueprints/tutorial/build-your-first-blueprint",permalink:"/wordpress-playground/blueprints/tutorial/build-your-first-blueprint",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/blueprints/tutorial/03-build-your-first-blueprint.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Build your first Blueprint",slug:"/blueprints/tutorial/build-your-first-blueprint",description:"Six steps to your first blueprint"},sidebar:"blueprintsSidebar",previous:{title:"How to run Blueprints",permalink:"/wordpress-playground/blueprints/tutorial/how-to-load-run-blueprints"},next:{title:"Blueprint data Format",permalink:"/wordpress-playground/blueprints/data-format"}},o={},p=[{value:"1. Create a new WordPress site",id:"1-create-a-new-wordpress-site",level:2},{value:"2. Set the site title to &quot;My first Blueprint&quot;",id:"2-set-the-site-title-to-my-first-blueprint",level:2},{value:"Shorthands",id:"shorthands",level:3},{value:"3. Install the <em>Adventurer</em> theme",id:"3-install-the-adventurer-theme",level:2},{value:"Resources",id:"resources",level:3},{value:"4. Install the <em>Hello Dolly</em> plugin",id:"4-install-the-hello-dolly-plugin",level:2},{value:"5. Install a custom plugin",id:"5-install-a-custom-plugin",level:2},{value:"Create a plugin and zip it",id:"create-a-plugin-and-zip-it",level:3},{value:"6. Change the site content",id:"6-change-the-site-content",level:2},{value:"Delete the old content",id:"delete-the-old-content",level:3},{value:"Import the new content",id:"import-the-new-content",level:3}],u={toc:p},d="wrapper";function c(e){let{components:t,...l}=e;return(0,r.kt)(d,(0,s.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Let's build an elementary Blueprint that"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Creates a new WordPress site"),(0,r.kt)("li",{parentName:"ol"},'Sets the site title to "My first Blueprint"'),(0,r.kt)("li",{parentName:"ol"},"Installs the ",(0,r.kt)("em",{parentName:"li"},"Adventurer")," theme"),(0,r.kt)("li",{parentName:"ol"},"Installs the ",(0,r.kt)("em",{parentName:"li"},"Hello Dolly")," plugin from the WordPress plugin directory"),(0,r.kt)("li",{parentName:"ol"},"Installs a custom plugin"),(0,r.kt)("li",{parentName:"ol"},"Changes the site content")),(0,r.kt)("h2",{id:"1-create-a-new-wordpress-site"},"1. Create a new WordPress site"),(0,r.kt)("p",null,"Let's start by creating a ",(0,r.kt)("inlineCode",{parentName:"p"},"blueprint.json")," file with the following contents:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"{}\n")),(0,r.kt)("p",null,"It may seem like nothing is happening, but this Blueprint already spins up a WordPress site with the latest major version."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#%7B%7D"},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"Autocomplete")),(0,r.kt)("p",{parentName:"admonition"},"If you use an IDE, like VS Code or PHPStorm, you can use the ",(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/blueprint-schema.json"},"Blueprint JSON Schema")," for an autocompleted Blueprint development experience. Add the following line at the top of your ",(0,r.kt)("inlineCode",{parentName:"p"},"blueprint.json")," file:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json"\n}\n'))),(0,r.kt)("p",null,"Here's what it looks like in VS Code:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Autocompletion visualized",src:n(2805).Z,width:"1632",height:"968"})),(0,r.kt)("h2",{id:"2-set-the-site-title-to-my-first-blueprint"},'2. Set the site title to "My first Blueprint"'),(0,r.kt)("p",null,"Blueprints consist of a series of ",(0,r.kt)("a",{parentName:"p",href:"../steps"},"steps")," that define how to build a WordPress site. Before you write the first step, declare an empty list of steps:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "steps": []\n}\n')),(0,r.kt)("p",null,"This Blueprint isn't very exciting\u2014it creates the same default site as the empty Blueprint above. Let's do something about it!"),(0,r.kt)("p",null,"WordPress stores the site title in the ",(0,r.kt)("inlineCode",{parentName:"p"},"blogname"),' option. Add your first step and set that option to "My first Blueprint":'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "steps": [\n        {\n            "step": "setSiteOptions",\n            "options": {\n                "blogname": "My first Blueprint"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#https://playground.wordpress.net/#eyIkc2NoZW1hIjoiaHR0cHM6Ly9wbGF5Z3JvdW5kLndvcmRwcmVzcy5uZXQvYmx1ZXByaW50LXNjaGVtYS5qc29uIiwic3RlcHMiOlt7InN0ZXAiOiJzZXRTaXRlT3B0aW9ucyIsIm9wdGlvbnMiOnsiYmxvZ25hbWUiOiJNeSBmaXJzdCBCbHVlcHJpbnQifX1dfQ=="},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"../steps#SetSiteOptionsStep"},(0,r.kt)("inlineCode",{parentName:"a"},"setSiteOptions")," step")," specifies the site options in the WordPress database. The ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," object contains the key-value pairs to set. In this case, you changed the value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"blogname"),' key to "My first Blueprint". You can read more about all available steps in the ',(0,r.kt)("a",{parentName:"p",href:"../steps"},"Blueprint Steps API Reference"),"."),(0,r.kt)("h3",{id:"shorthands"},"Shorthands"),(0,r.kt)("p",null,"You can specify some steps using a shorthand syntax. For example, you could write the ",(0,r.kt)("inlineCode",{parentName:"p"},"setSiteOptions")," step like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    }\n}\n')),(0,r.kt)("p",null,"The shorthand syntax and the step syntax correspond with each other. Every step specified with the shorthand syntax is automatically added at the beginning of the ",(0,r.kt)("inlineCode",{parentName:"p"},"steps")," array in an arbitrary order. Which should you choose? Use shorthands when brevity is your main concern, use steps when you need more control over the order of execution."),(0,r.kt)("h2",{id:"3-install-the-adventurer-theme"},"3. Install the ",(0,r.kt)("em",{parentName:"h2"},"Adventurer")," theme"),(0,r.kt)("p",null,"Adventurer is an open-source theme ",(0,r.kt)("a",{parentName:"p",href:"https://wordpress.org/themes/adventurer/"},"available in the WordPress theme directory"),". Let's install it using the ",(0,r.kt)("a",{parentName:"p",href:"../steps#InstallThemeStep"},(0,r.kt)("inlineCode",{parentName:"a"},"installTheme")," step"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#eyIkc2NoZW1hIjoiaHR0cHM6Ly9wbGF5Z3JvdW5kLndvcmRwcmVzcy5uZXQvYmx1ZXByaW50LXNjaGVtYS5qc29uIiwib3B0aW9ucyI6eyJibG9nbmFtZSI6Ik15IGZpcnN0IEJsdWVwcmludCJ9LCJzdGVwcyI6W3sic3RlcCI6Imluc3RhbGxUaGVtZSIsInRoZW1lWmlwRmlsZSI6eyJyZXNvdXJjZSI6IndvcmRwcmVzcy5vcmcvdGhlbWVzIiwic2x1ZyI6ImFkdmVudHVyZXIifX1dfQ=="},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("p",null,"The site should now look like the screenshot below:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Site with the adventurer theme",src:n(2440).Z,width:"2424",height:"1788"})),(0,r.kt)("h3",{id:"resources"},"Resources"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"themeZipFile")," defines a ",(0,r.kt)("a",{parentName:"p",href:"/blueprints/steps/resources"},"resource")," and referrences an external file required to complete the step. Playground supports different types of resources, including"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url"),","),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wordpress.org/themes"),","),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wordpress.org/plugins"),","),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"vfs"),"(virtual file system), or"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"literal"),".")),(0,r.kt)("p",null,"The example uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"wordpress.org/themes")," resource, which requires a ",(0,r.kt)("inlineCode",{parentName:"p"},"slug")," identical to the one used in WordPress theme directory:"),(0,r.kt)("p",null,"In this case, ",(0,r.kt)("inlineCode",{parentName:"p"},"https://wordpress.org/themes/<slug>/")," becomes ",(0,r.kt)("inlineCode",{parentName:"p"},"https://wordpress.org/themes/adventurer/"),"."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Learn more about the supported resources in the ",(0,r.kt)("a",{parentName:"p",href:"/blueprints/steps/resources/"},"Blueprint Resources API Reference"),".")),(0,r.kt)("h2",{id:"4-install-the-hello-dolly-plugin"},"4. Install the ",(0,r.kt)("em",{parentName:"h2"},"Hello Dolly")," plugin"),(0,r.kt)("p",null,'A classic WordPress plugin that displays random lyrics from the song "Hello, Dolly!" in the admin dashboard. Let\'s install it using the ',(0,r.kt)("a",{parentName:"p",href:"../steps#InstallPluginStep"},(0,r.kt)("inlineCode",{parentName:"a"},"installPlugin")," step"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "hello-dolly"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#eyJzaXRlT3B0aW9ucyI6eyJibG9nbmFtZSI6Ik15IGZpcnN0IEJsdWVwcmludCJ9LCJzdGVwcyI6W3sic3RlcCI6Imluc3RhbGxUaGVtZSIsInRoZW1lWmlwRmlsZSI6eyJyZXNvdXJjZSI6IndvcmRwcmVzcy5vcmcvdGhlbWVzIiwic2x1ZyI6ImFkdmVudHVyZXIifX0seyJzdGVwIjoiaW5zdGFsbFBsdWdpbiIsInBsdWdpblppcEZpbGUiOnsicmVzb3VyY2UiOiJ3b3JkcHJlc3Mub3JnL3BsdWdpbnMiLCJzbHVnIjoiaGVsbG8tZG9sbHkifX1dfQ=="},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("p",null,"The Hello Dolly plugin is now installed and activated."),(0,r.kt)("p",null,"Like the ",(0,r.kt)("inlineCode",{parentName:"p"},"themeZipFile"),", the ",(0,r.kt)("inlineCode",{parentName:"p"},"pluginZipFile")," defines a reference to an external file required for the step. The example uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"wordpress.org/plugins")," resource to install the plugin with the matching ",(0,r.kt)("inlineCode",{parentName:"p"},"slug")," from the WordPress plugin directory."),(0,r.kt)("h2",{id:"5-install-a-custom-plugin"},"5. Install a custom plugin"),(0,r.kt)("p",null,"Let's install a custom WordPress plugin that adds a message to the admin dashboard:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"<?php\n/*\nPlugin Name: \"Hello\" on the Dashboard\nDescription: A custom plugin to showcase WordPress Blueprints\nVersion: 1.0\nAuthor: WordPress Contributors\n*/\n\nfunction my_custom_plugin() {\n    echo '<h1>Hello from My Custom Plugin!</h1>';\n}\n\nadd_action('admin_notices', 'my_custom_plugin');\n")),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("a",{parentName:"p",href:"../steps#InstallPluginStep"},"installPlugin"),", but that requires creating a ZIP file. Let's start with something different to see if the plugin works:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a ",(0,r.kt)("inlineCode",{parentName:"li"},"wp-content/plugins/hello-from-the-dashboard")," directory using the ",(0,r.kt)("a",{parentName:"li",href:"../steps#MkdirStep"},(0,r.kt)("inlineCode",{parentName:"a"},"mkdir")," step"),"."),(0,r.kt)("li",{parentName:"ol"},"Write a ",(0,r.kt)("inlineCode",{parentName:"li"},"plugin.php")," file using the ",(0,r.kt)("a",{parentName:"li",href:"../steps#WriteFileStep"},(0,r.kt)("inlineCode",{parentName:"a"},"writeFile")," step"),"."),(0,r.kt)("li",{parentName:"ol"},"Activate the plugin using the ",(0,r.kt)("a",{parentName:"li",href:"../steps#ActivatePluginStep"},(0,r.kt)("inlineCode",{parentName:"a"},"activatePlugin")," step"),".")),(0,r.kt)("p",null,"Here's what that looks like in a Blueprint:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    // ...\n    "steps": [\n        // ...\n        {\n            "step": "mkdir",\n            "path": "/wordpress/wp-content/plugins/hello-from-the-dashboard"\n        },\n        {\n            "step": "writeFile",\n            "path": "/wordpress/wp-content/plugins/hello-from-the-dashboard/plugin.php",\n            "data": "<?php\\n/*\\nPlugin Name: \\"Hello\\" on the Dashboard\\nDescription: A custom plugin to showcase WordPress Blueprints\\nVersion: 1.0\\nAuthor: WordPress Contributors\\n*/\\n\\nfunction my_custom_plugin() {\\n    echo \'<h1>Hello from My Custom Plugin!</h1>\';\\n}\\n\\nadd_action(\'admin_notices\', \'my_custom_plugin\');"\n        },\n        {\n            "step": "activatePlugin",\n            "pluginPath": "hello-from-the-dashboard/plugin.php"\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"The last thing to do is log the user in as an admin. You can do that with a shorthand of the ",(0,r.kt)("a",{parentName:"p",href:"../steps#LoginStep"},(0,r.kt)("inlineCode",{parentName:"a"},"login")," step"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "login": true,\n    "steps": {\n        // ...\n    }\n}\n')),(0,r.kt)("p",null,"Here's the complete Blueprint:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "login": true,\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "hello-dolly"\n            }\n        },\n        {\n            "step": "mkdir",\n            "path": "/wordpress/wp-content/plugins/hello-from-the-dashboard"\n        },\n        {\n            "step": "writeFile",\n            "path": "/wordpress/wp-content/plugins/hello-from-the-dashboard/plugin.php",\n            "data": "<?php\\n/*\\nPlugin Name: \\"Hello\\" on the Dashboard\\nDescription: A custom plugin to showcase WordPress Blueprints\\nVersion: 1.0\\nAuthor: WordPress Contributors\\n*/\\n\\nfunction my_custom_plugin() {\\n    echo \'<h1>Hello from My Custom Plugin!</h1>\';\\n}\\n\\nadd_action(\'admin_notices\', \'my_custom_plugin\');"\n        },\n        {\n            "step": "activatePlugin",\n            "pluginPath": "hello-from-the-dashboard/plugin.php"\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#eyJsb2dpbiI6dHJ1ZSwic2l0ZU9wdGlvbnMiOnsiYmxvZ25hbWUiOiJNeSBmaXJzdCBCbHVlcHJpbnQifSwic3RlcHMiOlt7InN0ZXAiOiJpbnN0YWxsVGhlbWUiLCJ0aGVtZVppcEZpbGUiOnsicmVzb3VyY2UiOiJ3b3JkcHJlc3Mub3JnL3RoZW1lcyIsInNsdWciOiJhZHZlbnR1cmVyIn19LHsic3RlcCI6Imluc3RhbGxQbHVnaW4iLCJwbHVnaW5aaXBGaWxlIjp7InJlc291cmNlIjoid29yZHByZXNzLm9yZy9wbHVnaW5zIiwic2x1ZyI6ImhlbGxvLWRvbGx5In19LHsic3RlcCI6Im1rZGlyIiwicGF0aCI6Ii93b3JkcHJlc3Mvd3AtY29udGVudC9wbHVnaW5zL2hlbGxvLW9uLXRoZS1kYXNoYm9hcmQifSx7InN0ZXAiOiJ3cml0ZUZpbGUiLCJwYXRoIjoiL3dvcmRwcmVzcy93cC1jb250ZW50L3BsdWdpbnMvaGVsbG8tb24tdGhlLWRhc2hib2FyZC9wbHVnaW4ucGhwIiwiZGF0YSI6Ijw/cGhwXG4vKlxuUGx1Z2luIE5hbWU6IFwiSGVsbG9cIiBvbiB0aGUgRGFzaGJvYXJkXG5EZXNjcmlwdGlvbjogQSBjdXN0b20gcGx1Z2luIHRvIHNob3djYXNlIFdvcmRQcmVzcyBCbHVlcHJpbnRzXG5WZXJzaW9uOiAxLjBcbkF1dGhvcjogV29yZFByZXNzIENvbnRyaWJ1dG9yc1xuKi9cblxuZnVuY3Rpb24gbXlfY3VzdG9tX3BsdWdpbigpIHtcbiAgICBlY2hvICc8aDE+SGVsbG8gZnJvbSBNeSBDdXN0b20gUGx1Z2luITwvaDE+Jztcbn1cblxuYWRkX2FjdGlvbignYWRtaW5fbm90aWNlcycsICdteV9jdXN0b21fcGx1Z2luJyk7In0seyJzdGVwIjoiYWN0aXZhdGVQbHVnaW4iLCJwbHVnaW5QYXRoIjoiaGVsbG8tb24tdGhlLWRhc2hib2FyZC9wbHVnaW4ucGhwIn1dfQ=="},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("p",null,"That's what it looks like when you navigate to the dashboard:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Site with the custom plugin",src:n(4589).Z,width:"2424",height:"942"})),(0,r.kt)("h3",{id:"create-a-plugin-and-zip-it"},"Create a plugin and zip it"),(0,r.kt)("p",null,"Encoding PHP files as ",(0,r.kt)("inlineCode",{parentName:"p"},"JSON")," can be useful for quick testing, but it's inconvenient and difficult to read. Instead, create a file with the plugin code, compress it, and use the ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP")," file as the ",(0,r.kt)("inlineCode",{parentName:"p"},"resource")," in the ",(0,r.kt)("a",{parentName:"p",href:"../steps#InstallPluginStep"},(0,r.kt)("inlineCode",{parentName:"a"},"installPlugin")," step")," to install it (the path in the ",(0,r.kt)("inlineCode",{parentName:"p"},"URL")," should match the one in your GitHub repository):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "login": true,\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "hello-dolly"\n            }\n        },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "url",\n                "url": "https://raw.githubusercontent.com/wordpress/blueprints/trunk/docs/assets/hello-from-the-dashboard.zip"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"You can shorten that Blueprint even more using the shorthand syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "login": true,\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "plugins": ["hello-dolly", "https://raw.githubusercontent.com/wordpress/blueprints/trunk/docs/assets/hello-from-the-dashboard.zip"],\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#eyIkc2NoZW1hIjoiaHR0cHM6Ly9wbGF5Z3JvdW5kLndvcmRwcmVzcy5uZXQvYmx1ZXByaW50LXNjaGVtYS5qc29uIiwibG9naW4iOnRydWUsInNpdGVPcHRpb25zIjp7ImJsb2duYW1lIjoiTXkgZmlyc3QgQmx1ZXByaW50In0sInBsdWdpbnMiOlsiaGVsbG8tZG9sbHkiLCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRhbXppZWwvYmx1ZXByaW50cy90cnVuay9kb2NzL2hlbGxvLW9uLXRoZS1kYXNoYm9hcmQuemlwIl0sInN0ZXBzIjpbeyJzdGVwIjoiaW5zdGFsbFRoZW1lIiwidGhlbWVaaXBGaWxlIjp7InJlc291cmNlIjoid29yZHByZXNzLm9yZy90aGVtZXMiLCJzbHVnIjoiYWR2ZW50dXJlciJ9fV19"},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("h2",{id:"6-change-the-site-content"},"6. Change the site content"),(0,r.kt)("p",null,"Finally, let's delete the default content of the site and import a new one from a WordPress export file (WXR)."),(0,r.kt)("h3",{id:"delete-the-old-content"},"Delete the old content"),(0,r.kt)("p",null,"There isn't a Blueprint step to delete the default content, but you can do that with a snippet of PHP code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"<?php\nrequire '/wordpress/wp-load.php';\n\n// Delete all posts and pages\n$posts = get_posts(array(\n    'numberposts' => -1,\n    'post_type' => array('post', 'page'),\n    'post_status' => 'any'\n));\n\nforeach ($posts as $post) {\n    wp_delete_post($post->ID, true);\n}\n")),(0,r.kt)("p",null,"To run that code during the site setup, use the ",(0,r.kt)("a",{parentName:"p",href:"../steps#RunPHPStep"},(0,r.kt)("inlineCode",{parentName:"a"},"runPHP")," step"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"{\n    // ...\n    \"steps\": [\n        // ...\n        {\n            \"step\": \"runPHP\",\n            \"code\": \"<?php\\nrequire '/wordpress/wp-load.php';\\n\\n$posts = get_posts(array(\\n    'numberposts' => -1,\\n    'post_type' => array('post', 'page'),\\n    'post_status' => 'any'\\n));\\n\\nforeach ($posts as $post) {\\n    wp_delete_post($post->ID, true);\\n}\"\n        }\n    ]\n}\n")),(0,r.kt)("h3",{id:"import-the-new-content"},"Import the new content"),(0,r.kt)("p",null,"Let's use the ",(0,r.kt)("a",{parentName:"p",href:"../steps#ImportWXRStep"},(0,r.kt)("inlineCode",{parentName:"a"},"importWxr")," step")," to import a WordPress export (",(0,r.kt)("inlineCode",{parentName:"p"},"WXR"),") file that helps test WordPress themes. The file is available in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/WordPress/theme-test-data"},"WordPress/theme-test-data")," repository, and you can access it via its ",(0,r.kt)("inlineCode",{parentName:"p"},"raw.githubusercontent.com")," address: ",(0,r.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/WordPress/theme-test-data/master/themeunittestdata.wordpress.xml"},"https://raw.githubusercontent.com/WordPress/theme-test-data/master/themeunittestdata.wordpress.xml"),"."),(0,r.kt)("p",null,"Here's what the final Blueprint looks like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n    "login": true,\n    "siteOptions": {\n        "blogname": "My first Blueprint"\n    },\n    "plugins": ["hello-dolly", "https://raw.githubusercontent.com/wordpress/blueprints/trunk/docs/assets/hello-from-the-dashboard.zip"],\n    "steps": [\n        {\n            "step": "installTheme",\n            "themeZipFile": {\n                "resource": "wordpress.org/themes",\n                "slug": "adventurer"\n            }\n        },\n        {\n            "step": "runPHP",\n            "code": "<?php\\nrequire \'/wordpress/wp-load.php\';\\n\\n$posts = get_posts(array(\\n    \'numberposts\' => -1,\\n    \'post_type\' => array(\'post\', \'page\'),\\n    \'post_status\' => \'any\'\\n));\\n\\nforeach ($posts as $post) {\\n    wp_delete_post($post->ID, true);\\n}"\n        },\n        {\n            "step": "importWxr",\n            "file": {\n                "resource": "url",\n                "url": "https://raw.githubusercontent.com/WordPress/theme-test-data/master/themeunittestdata.wordpress.xml"\n            }\n        }\n    ]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/#eyIkc2NoZW1hIjoiaHR0cHM6Ly9wbGF5Z3JvdW5kLndvcmRwcmVzcy5uZXQvYmx1ZXByaW50LXNjaGVtYS5qc29uIiwibG9naW4iOnRydWUsInNpdGVPcHRpb25zIjp7ImJsb2duYW1lIjoiTXkgZmlyc3QgQmx1ZXByaW50In0sInBsdWdpbnMiOlsiaGVsbG8tZG9sbHkiLCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRhbXppZWwvYmx1ZXByaW50cy90cnVuay9kb2NzL2Fzc2V0cy9oZWxsby1mcm9tLXRoZS1kYXNoYm9hcmQuemlwIl0sInN0ZXBzIjpbeyJzdGVwIjoiaW5zdGFsbFRoZW1lIiwidGhlbWVaaXBGaWxlIjp7InJlc291cmNlIjoid29yZHByZXNzLm9yZy90aGVtZXMiLCJzbHVnIjoiYWR2ZW50dXJlciJ9fSx7InN0ZXAiOiJydW5QSFAiLCJjb2RlIjoiPD9waHBcbnJlcXVpcmUgJy93b3JkcHJlc3Mvd3AtbG9hZC5waHAnO1xuXG4kcG9zdHMgPSBnZXRfcG9zdHMoYXJyYXkoXG4gICAgJ251bWJlcnBvc3RzJyA9PiAtMSxcbiAgICAncG9zdF90eXBlJyA9PiBhcnJheSgncG9zdCcsICdwYWdlJyksXG4gICAgJ3Bvc3Rfc3RhdHVzJyA9PiAnYW55J1xuKSk7XG5cbmZvcmVhY2ggKCRwb3N0cyBhcyAkcG9zdCkge1xuICAgIHdwX2RlbGV0ZV9wb3N0KCRwb3N0LT5JRCwgdHJ1ZSk7XG59In0seyJzdGVwIjoiaW1wb3J0V3hyIiwiZmlsZSI6eyJyZXNvdXJjZSI6InVybCIsInVybCI6Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Xb3JkUHJlc3MvdGhlbWUtdGVzdC1kYXRhL21hc3Rlci90aGVtZXVuaXR0ZXN0ZGF0YS53b3JkcHJlc3MueG1sIn19XX0="},(0,r.kt)("kbd",null,"\u2003","\xa0"," Run Blueprint ","\xa0","\u2003"))),(0,r.kt)("p",null,"And that's it. Congratulations on creating your first Blueprint! \ud83e\udd73"))}c.isMDXComponent=!0},9530:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var s=n(2735);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},l=Object.keys(e);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=s.createContext({}),p=function(e){var t=s.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return s.createElement(o.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},h=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,m=d["".concat(o,".").concat(h)]||d[h]||c[h]||l;return n?s.createElement(m,a(a({ref:t},u),{},{components:n})):s.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,a=new Array(l);a[0]=h;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[d]="string"==typeof e?e:r,a[1]=i;for(var p=2;p<l;p++)a[p]=n[p];return s.createElement.apply(null,a)}return s.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2440:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/installed-adventurer-theme-6adff1e58e1c9cc31eddf8bcd9733180.png"},4589:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/installed-custom-plugin-1f80e3296f107644edfb37ea8dcfafc4.png"},2805:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/schema-autocompletion-fa29923b4faa135f5470d8187aa24c2c.png"}}]);