"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[318],{19:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var a=n(11),r=(n(2735),n(9530));const i={sidebar_position:5,slug:"/developers/apis/query-api"},l="Query API",o={unversionedId:"developers/apis/query-api/index",id:"developers/apis/query-api/index",title:"Query API",description:"WordPress Playground exposes a simple API that you can use to configure the Playground in the browser.",source:"@site/docs/developers/06-apis/query-api/01-index.md",sourceDirName:"developers/06-apis/query-api",slug:"/developers/apis/query-api",permalink:"/wordpress-playground/developers/apis/query-api",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/developers/06-apis/query-api/01-index.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,slug:"/developers/apis/query-api"},sidebar:"developersSidebar",previous:{title:"APIs overview",permalink:"/wordpress-playground/developers/apis/"},next:{title:"JavaScript API",permalink:"/wordpress-playground/developers/apis/javascript-api"}},p={},d=[{value:"Available options",id:"available-options",level:2},{value:"GitHub Export Options",id:"github-export-options",level:2}],s={toc:d},m="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"query-api"},"Query API"),(0,r.kt)("p",null,"WordPress Playground exposes a simple API that you can use to configure the Playground in the browser."),(0,r.kt)("p",null,"It works by passing configuration options as query parameters to the Playground URL. For example, to install the pendant theme, you would use the following URL:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"https://playground.wordpress.net/?theme=pendant\n")),(0,r.kt)("p",null,"You can go ahead and try it out. The Playground will automatically install the theme and log you in as an admin. You may even embed this URL in your website using an ",(0,r.kt)("inlineCode",{parentName:"p"},"<iframe>")," tag:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<iframe src="https://playground.wordpress.net/?theme=pendant"></iframe>\n')),(0,r.kt)("h2",{id:"available-options"},"Available options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"php")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"8.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Loads the specified PHP version. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"7.0"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"7.1"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"7.2"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"7.3"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"7.4"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"8.0"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"8.1"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"8.2"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"8.3"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"latest"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"wp")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"latest")),(0,r.kt)("td",{parentName:"tr",align:null},"Loads the specified WordPress version. Accepts the last three major WordPress versions. As of June 1, 2024, that's ",(0,r.kt)("inlineCode",{parentName:"td"},"6.3"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"6.4"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"6.5"),". You can also use the generic values ",(0,r.kt)("inlineCode",{parentName:"td"},"latest"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"nightly"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"beta"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"blueprint-url")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the Blueprint that will be used to configure this Playground instance.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"php-extension-bundle")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"light")),(0,r.kt)("td",{parentName:"tr",align:null},"Loads a bundle of PHP extensions. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"kitchen-sink")," (for finfo, gd, mbstring, iconv, openssl, libxml, xml, dom, simplexml, xmlreader, xmlwriter) or ",(0,r.kt)("inlineCode",{parentName:"td"},"light"),". ",(0,r.kt)("inlineCode",{parentName:"td"},"light")," reduces downloads by 6 MB and loads none of the extensions in ",(0,r.kt)("inlineCode",{parentName:"td"},"kitchen-sink"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"networking")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables or disables the networking support for Playground. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"yes")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"no"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"plugin")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Installs the specified plugin. Use the plugin name from the WordPress Plugins Directory URL. For example, if the URL is ",(0,r.kt)("inlineCode",{parentName:"td"},"https://wordpress.org/plugins/wp-lazy-loading/"),", the plugin name would be ",(0,r.kt)("inlineCode",{parentName:"td"},"wp-lazy-loading"),". You can pre-install multiple plugins by saying ",(0,r.kt)("inlineCode",{parentName:"td"},"plugin=coblocks&plugin=wp-lazy-loading&\u2026"),". Installing a plugin automatically logs the user in as an admin.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"theme")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Installs the specified theme. Use the theme name from the WordPress Themes Directory URL. For example, if the URL is ",(0,r.kt)("inlineCode",{parentName:"td"},"https://wordpress.org/themes/disco/"),", the theme name would be ",(0,r.kt)("inlineCode",{parentName:"td"},"disco"),". Installing a theme automatically logs the user in as an admin.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/wp-admin/")),(0,r.kt)("td",{parentName:"tr",align:null},"Load the specified initial WordPress page in this Playground instance.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mode")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"browser-full-screen")),(0,r.kt)("td",{parentName:"tr",align:null},"Determines how the WordPress instance is displayed. Either wrapped in a browser UI or full width as a seamless experience. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"browser-full-screen"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"seamless"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"lazy")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},'Defer loading the Playground assets until someone clicks on the "Run" button. Does not accept any values. If ',(0,r.kt)("inlineCode",{parentName:"td"},"lazy")," is added as a URL parameter, loading will be deferred.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"login")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yes")),(0,r.kt)("td",{parentName:"tr",align:null},"Log the user in as an admin. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"yes")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"no"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"multisite")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables the WordPress multisite mode. Accepts ",(0,r.kt)("inlineCode",{parentName:"td"},"yes")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"no"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"storage")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"none")),(0,r.kt)("td",{parentName:"tr",align:null},"Selects the storage for Playground: ",(0,r.kt)("inlineCode",{parentName:"td"},"none")," gets erased on page refresh, ",(0,r.kt)("inlineCode",{parentName:"td"},"browser")," is stored in the browser, and ",(0,r.kt)("inlineCode",{parentName:"td"},"device")," is stored in the selected directory on a device. The last two protect the user from accidentally losing their work upon page refresh.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"import-site")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Imports site files and database from a ZIP file specified by a URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"import-wxr")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Imports site content from a WXR file specified by a URL. It uses the WordPress Importer plugin, so the default admin user must be logged in.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"site-slug")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Selects which site to load from browser storage. This must be used in combination with ",(0,r.kt)("inlineCode",{parentName:"td"},"storage=browser"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"language")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"en_US")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets the locale for the WordPress instance. This must be used in combination with ",(0,r.kt)("inlineCode",{parentName:"td"},"networking=yes")," otherwise WordPress won't be able to download translations.")))),(0,r.kt)("p",null,"For example, the following code embeds a Playground with a preinstalled Gutenberg plugin and opens the post editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<iframe src="https://playground.wordpress.net/?plugin=gutenberg&url=/wp-admin/post-new.php&mode=seamless"> </iframe>\n')),(0,r.kt)("admonition",{title:"CORS policy",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To import files from a URL, such as a site zip package, they must be served with ",(0,r.kt)("inlineCode",{parentName:"p"},"Access-Control-Allow-Origin")," header set. For reference, see: ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#the_http_response_headers"},"Cross-Origin Resource Sharing (CORS)"),".")),(0,r.kt)("h2",{id:"github-export-options"},"GitHub Export Options"),(0,r.kt)("p",null,"The following additional query parameters may be used to pre-configure the GitHub export form:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gh-ensure-auth"),": If set to ",(0,r.kt)("inlineCode",{parentName:"li"},"yes"),", Playground will display a modal to ensure the\nuser is authenticated with GitHub before proceeding."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-repo-url"),": The URL of the GitHub repository to export to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-pr-action"),": The action to take when exporting (create or update)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-playground-root"),": The root directory in the Playground to export from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-repo-root"),": The root directory in the repository to export to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-content-type"),": The content type of the export (plugin, theme, wp-content, custom-paths)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-plugin"),": Plugin path. When the content type is ",(0,r.kt)("inlineCode",{parentName:"li"},"plugin"),", pre-select the plugin to export."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-theme"),": Theme directory name. When the content type is ",(0,r.kt)("inlineCode",{parentName:"li"},"theme"),", pre-select the theme to export."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-path"),": A path relative to ",(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-playground-root"),". Can be provided multiple times. When the\ncontent type is ",(0,r.kt)("inlineCode",{parentName:"li"},"custom-paths"),", it pre-populates the list of paths to export."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-commit-message"),": The commit message to use when exporting."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ghexport-allow-include-zip"),": Whether to offer an option to include a zip file in the GitHub\nexport (yes, no). Optional. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"yes"),".")))}u.isMDXComponent=!0},9530:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>g});var a=n(2735);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=d(n),k=r,g=m["".concat(p,".").concat(k)]||m[k]||u[k]||i;return n?a.createElement(g,l(l({ref:t},s),{},{components:n})):a.createElement(g,l({ref:t},s))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=k;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[m]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"}}]);