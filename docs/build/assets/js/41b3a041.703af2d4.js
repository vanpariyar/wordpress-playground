"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[685,5872],{9011:(e,t,n)=>{n.d(t,{ZP:()=>o});var a=n(11),r=(n(2735),n(9530)),i=n(3355),l=n(7283);const s={toc:[]},p="wrapper";function o(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"margin-vert--sm"},!n.justButton&&(0,r.kt)(l.Z,{title:n.title,language:"json",mdxType:"CodeBlock"},n.display||JSON.stringify(n.blueprint,null,"\t")),!n.noButton&&(0,r.kt)(i.m,{blueprint:n.blueprint,mdxType:"BlueprintRunButton"})))}o.isMDXComponent=!0},3355:(e,t,n)=>{n.d(t,{m:()=>r});var a=n(2735);function r(e){let{blueprint:t}=e;const[n,r]=a.useState(!1);if(!t)return null;if(!n)return a.createElement("button",{className:"button button--primary",onClick:()=>{r(!0)}},"Try it out!");const i=`https://playground.wordpress.net/?mode=seamless#${btoa("string"==typeof t?t:JSON.stringify(t))}`;return a.createElement("iframe",{style:{width:"100%",height:"500px",border:"1px solid #ccc"},src:i})}},7503:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2735);const r={React:a,...a,css:{textarea:{width:"100%",height:"8lh",display:"block"}},HTML:e=>{let{children:t}=e;return a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}},6003:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>d});var a=n(11),r=(n(2735),n(9530)),i=n(9011);const l={sidebar_position:1,title:"Blueprint data Format"},s="Blueprint data format",p={unversionedId:"blueprints/data-format",id:"blueprints/data-format",title:"Blueprint data Format",description:"A Blueprint JSON file can have many different properties that will be used to define your Playground instance. The most important properties are detailed below.",source:"@site/docs/blueprints/03-data-format.md",sourceDirName:"blueprints",slug:"/blueprints/data-format",permalink:"/wordpress-playground/blueprints/data-format",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/blueprints/03-data-format.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Blueprint data Format"},sidebar:"blueprintsSidebar",previous:{title:"Build your first Blueprint",permalink:"/wordpress-playground/blueprints/tutorial/build-your-first-blueprint"},next:{title:"Using Blueprints",permalink:"/wordpress-playground/blueprints/using-blueprints"}},o={},d=[{value:"JSON schema",id:"json-schema",level:2},{value:"Landing page",id:"landing-page",level:2},{value:"Preferred versions",id:"preferred-versions",level:2},{value:"PHP extensions",id:"php-extensions",level:2},{value:"Features",id:"features",level:2},{value:"Extra libraries",id:"extra-libraries",level:2},{value:"Steps",id:"steps",level:2}],u={toc:d},m="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"blueprint-data-format"},"Blueprint data format"),(0,r.kt)("p",null,"A Blueprint JSON file can have many different properties that will be used to define your Playground instance. The most important properties are detailed below."),(0,r.kt)("p",null,"Here's an example that uses many of them:"),(0,r.kt)(i.ZP,{blueprint:{landingPage:"/wp-admin/",preferredVersions:{php:"7.4",wp:"6.5"},phpExtensionBundles:["kitchen-sink"],features:{networking:!0},steps:[{step:"login",username:"admin",password:"password"}]},mdxType:"BlueprintExample"}),(0,r.kt)("h2",{id:"json-schema"},"JSON schema"),(0,r.kt)("p",null,"JSON files can be tedious to write and easy to get wrong. To help with that, Playground provides a ",(0,r.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/blueprint-schema.json"},"JSON schema")," file that you can use to get auto-completion and validation in your editor. Just set the ",(0,r.kt)("inlineCode",{parentName:"p"},"$schema")," property to the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "$schema": "https://playground.wordpress.net/blueprint-schema.json",\n}\n')),(0,r.kt)("h2",{id:"landing-page"},"Landing page"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"landingPage")," property tells Playground which URL to navigate to after the Blueprint has been run. This is a great tool, especially when creating theme or plugin demos. Often, you will want to start Playground in the Site Editor or have a specific post open in the Post Editor. Make sure you use a relative path."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "landingPage": "/wp-admin/site-editor.php",\n}\n')),(0,r.kt)("h2",{id:"preferred-versions"},"Preferred versions"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"preferredVersions")," property declares your preferred PHP and WordPress versions. It can contain the following properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"php")," (string): Loads the specified PHP version. Accepts ",(0,r.kt)("inlineCode",{parentName:"li"},"7.0"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"7.1"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"7.2"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"7.3"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"7.4"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"8.0"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"8.1"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"8.2"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"8.3"),", or ",(0,r.kt)("inlineCode",{parentName:"li"},"latest"),". Minor versions like ",(0,r.kt)("inlineCode",{parentName:"li"},"7.4.1")," are not supported."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wp")," (string): Loads the specified WordPress version. Accepts the last four major WordPress versions. As of June 1, 2024, that's ",(0,r.kt)("inlineCode",{parentName:"li"},"6.2"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"6.3"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"6.4"),", or ",(0,r.kt)("inlineCode",{parentName:"li"},"6.5"),". You can also use the generic values ",(0,r.kt)("inlineCode",{parentName:"li"},"latest"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"nightly"),", or ",(0,r.kt)("inlineCode",{parentName:"li"},"beta"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "preferredVersions": {\n        "php": "8.0",\n        "wp": "6.5"\n    },\n}\n')),(0,r.kt)("h2",{id:"php-extensions"},"PHP extensions"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"phpExtensionBundles")," property is an array of PHP extension bundles that should be loaded. The following bundles are supported:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"kitchen-sink"),": Default choice. Installs ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.image.php"},(0,r.kt)("inlineCode",{parentName:"a"},"gd")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/mbstring.installation.php"},(0,r.kt)("inlineCode",{parentName:"a"},"mbstring")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/function.iconv.php"},(0,r.kt)("inlineCode",{parentName:"a"},"iconv")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.openssl.php"},(0,r.kt)("inlineCode",{parentName:"a"},"openssl")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.libxml.php"},(0,r.kt)("inlineCode",{parentName:"a"},"libxml")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/xml.installation.php"},(0,r.kt)("inlineCode",{parentName:"a"},"xml")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/intro.dom.php"},(0,r.kt)("inlineCode",{parentName:"a"},"dom")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.simplexml.php"},(0,r.kt)("inlineCode",{parentName:"a"},"simplexml")),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.xmlreader.php"},(0,r.kt)("inlineCode",{parentName:"a"},"xmlreader")),", and ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/book.xmlwriter.php"},(0,r.kt)("inlineCode",{parentName:"a"},"xmlwriter"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"light"),": It saves 6MB of downloads and loads none of the extensions above.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "phpExtensionBundles": [\n        "kitchen-sink"\n    ],\n}\n')),(0,r.kt)("h2",{id:"features"},"Features"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"features")," property to turn on or off certain features of the Playground instance. It can contain the following properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"networking"),": Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"false"),". Enables or disables the networking support for Playground. If enabled, ",(0,r.kt)("a",{parentName:"li",href:"https://developer.wordpress.org/reference/functions/wp_safe_remote_get/"},(0,r.kt)("inlineCode",{parentName:"a"},"wp_safe_remote_get"))," and similar WordPress functions will actually use ",(0,r.kt)("inlineCode",{parentName:"li"},"fetch()")," to make HTTP requests. If disabled, they will immediately fail instead. You will need this property enabled if you want the user to be able to install plugins or themes.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "features": {\n        "networking": true\n    },\n}\n')),(0,r.kt)("h2",{id:"extra-libraries"},"Extra libraries"),(0,r.kt)("p",null,"You can preload extra libraries into the Playground instance. The following libraries are supported:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wp-cli"),": Enables WP-CLI support for Playground. If included, WP-CLI will be installed during boot. If not included, you will get an error message when trying to run WP-CLI commands using the JS API. WP-CLI will be installed by default if the blueprint contains any ",(0,r.kt)("inlineCode",{parentName:"li"},"wp-cli")," steps.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "extraLibraries": [ "wp-cli" ],\n}\n')),(0,r.kt)("h2",{id:"steps"},"Steps"),(0,r.kt)("p",null,"Arguably the most powerful property, ",(0,r.kt)("inlineCode",{parentName:"p"},"steps")," allows you to configure the Playground instance with preinstalled themes, plugins, demo content, and more. The following example logs the user in with a dedicated username and password. It then installs and activates the Gutenberg plugin. ",(0,r.kt)("a",{parentName:"p",href:"/wordpress-playground/blueprints/steps"},"Learn more about steps"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "steps": [\n        {\n            "step": "login",\n            "username": "admin",\n            "password": "password"\n        },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "gutenberg"\n            }\n        },\n    ]\n}\n')))}h.isMDXComponent=!0}}]);