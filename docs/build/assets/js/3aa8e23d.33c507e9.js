"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[9976,5872],{9011:(e,t,n)=>{n.d(t,{ZP:()=>p});var r=n(11),a=(n(2735),n(9530)),o=n(3355),i=n(7283);const s={toc:[]},l="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(l,(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("div",{className:"margin-vert--sm"},!n.justButton&&(0,a.kt)(i.Z,{title:n.title,language:"json",mdxType:"CodeBlock"},n.display||JSON.stringify(n.blueprint,null,"\t")),!n.noButton&&(0,a.kt)(o.m,{blueprint:n.blueprint,mdxType:"BlueprintRunButton"})))}p.isMDXComponent=!0},776:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2735),a=n(8349);const o={tableOfContentsInline:"tableOfContentsInline_moAP"};function i(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:i}=e;return r.createElement("div",{className:o.tableOfContentsInline},r.createElement(a.Z,{toc:t,minHeadingLevel:n,maxHeadingLevel:i,className:"table-of-contents",linkClassName:null}))}},8349:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(11),a=n(2735),o=n(7585),i=n(2555),s=n(9712);function l(e){let{toc:t,className:n,linkClassName:r,isChild:o}=e;return t.length?a.createElement("ul",{className:o?void 0:n},t.map((e=>a.createElement("li",{key:e.id},a.createElement("a",{href:`#${e.id}`,className:r??void 0,dangerouslySetInnerHTML:{__html:e.value}}),a.createElement(l,{isChild:!0,toc:e.children,className:n,linkClassName:r}))))):null}const p=a.memo(l);function u(e){let{toc:t,className:n="table-of-contents table-of-contents__left-border",linkClassName:l="table-of-contents__link",linkActiveClassName:u,minHeadingLevel:d,maxHeadingLevel:c,...m}=e;const h=(0,o.L)(),y=d??h.tableOfContents.minHeadingLevel,g=c??h.tableOfContents.maxHeadingLevel,v=(0,i.b)({toc:t,minHeadingLevel:y,maxHeadingLevel:g}),f=(0,a.useMemo)((()=>{if(l&&u)return{linkClassName:l,linkActiveClassName:u,minHeadingLevel:y,maxHeadingLevel:g}}),[l,u,y,g]);return(0,s.S)(f),a.createElement(p,(0,r.Z)({toc:v,className:n,linkClassName:l},m))}},9712:(e,t,n)=>{n.d(t,{S:()=>l});var r=n(2735),a=n(7585);function o(e){const t=e.getBoundingClientRect();return t.top===t.bottom?o(e.parentNode):t}function i(e,t){let{anchorTopOffset:n}=t;const r=e.find((e=>o(e).top>=n));if(r){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(o(r))?r:e[e.indexOf(r)-1]??null}return e[e.length-1]??null}function s(){const e=(0,r.useRef)(0),{navbar:{hideOnScroll:t}}=(0,a.L)();return(0,r.useEffect)((()=>{e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function l(e){const t=(0,r.useRef)(void 0),n=s();(0,r.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:r,linkActiveClassName:a,minHeadingLevel:o,maxHeadingLevel:s}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(r),l=function(e){let{minHeadingLevel:t,maxHeadingLevel:n}=e;const r=[];for(let a=t;a<=n;a+=1)r.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(r.join()))}({minHeadingLevel:o,maxHeadingLevel:s}),p=i(l,{anchorTopOffset:n.current}),u=e.find((e=>p&&p.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,n){n?(t.current&&t.current!==e&&t.current.classList.remove(a),e.classList.add(a),t.current=e):e.classList.remove(a)}(e,e===u)}))}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}}),[e,n])}},2555:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>s});var r=n(2735);function a(e){const t=e.map((e=>({...e,parentIndex:-1,children:[]}))),n=Array(7).fill(-1);t.forEach(((e,t)=>{const r=n.slice(2,e.level);e.parentIndex=Math.max(...r),n[e.level]=t}));const r=[];return t.forEach((e=>{const{parentIndex:n,...a}=e;n>=0?t[n].children.push(a):r.push(a)})),r}function o(e){return(0,r.useMemo)((()=>a(e)),[e])}function i(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:r}=e;return t.flatMap((e=>{const t=i({toc:e.children,minHeadingLevel:n,maxHeadingLevel:r});return function(e){return e.level>=n&&e.level<=r}(e)?[{...e,children:t}]:t}))}function s(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:o}=e;return(0,r.useMemo)((()=>i({toc:a(t),minHeadingLevel:n,maxHeadingLevel:o})),[t,n,o])}},3355:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(2735);function a(e){let{blueprint:t}=e;const[n,a]=r.useState(!1);if(!t)return null;if(!n)return r.createElement("button",{className:"button button--primary",onClick:()=>{a(!0)}},"Try it out!");const o=`https://playground.wordpress.net/?mode=seamless#${btoa("string"==typeof t?t:JSON.stringify(t))}`;return r.createElement("iframe",{style:{width:"100%",height:"500px",border:"1px solid #ccc"},src:o})}},7503:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2735);const a={React:r,...r,css:{textarea:{width:"100%",height:"8lh",display:"block"}},HTML:e=>{let{children:t}=e;return r.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}},8033:(e,t,n)=>{n.d(t,{ZP:()=>s});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},i="wrapper";function s(e){let{components:t,...n}=e;return(0,a.kt)(i,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/developers/apis/query-api/"},"Query API")," enable basic operations using only query parameters"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/wordpress-playground/blueprints"},"Blueprints API")," give you a great degree of control with a simple JSON file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/developers/apis/javascript-api/"},"JavaScript API")," give you full control via a JavaScript client from an npm package")))}s.isMDXComponent=!0},3154:(e,t,n)=>{n.d(t,{ZP:()=>s});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},i="wrapper";function s(e){let{components:t,...n}=e;return(0,a.kt)(i,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe\n    id="wp"\n    style="width: 100%; height: 300px; border: 1px solid #000;"\n></iframe>\n<script type="module">\n    // Use unpkg for convenience\n    import { startPlaygroundWeb } from \'https://playground.wordpress.net/client/index.js\';\n\n    const client = await startPlaygroundWeb({\n        iframe: document.getElementById(\'wp\'),\n        remoteUrl: `https://playground.wordpress.net/remote.html`,\n    });\n    // Let\'s wait until Playground is fully loaded\n    await client.isReady();\n<\/script>\n')))}s.isMDXComponent=!0},7509:(e,t,n)=>{n.d(t,{ZP:()=>s});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},i="wrapper";function s(e){let{components:t,...n}=e;return(0,a.kt)(i,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{title:"Careful with the demo site",type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"The site at ",(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net"},"https://playground.wordpress.net")," is there to support the community, but there are no guarantees it will continue to work if the traffic grows significantly."),(0,a.kt)("p",{parentName:"admonition"},"If you need certain availability, you should ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/developers/architecture/host-your-own-playground"},"host your own WordPress Playground"),".")))}s.isMDXComponent=!0},2620:(e,t,n)=>{n.d(t,{ZP:()=>s});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},i="wrapper";function s(e){let{components:t,...n}=e;return(0,a.kt)(i,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This is called ",(0,a.kt)("a",{parentName:"p",href:"/developers/apis/query-api/"},"Query API")," and you can learn more about it ",(0,a.kt)("a",{parentName:"p",href:"/developers/apis/query-api/"},"here"),"."))}s.isMDXComponent=!0},4687:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>f,frontMatter:()=>d,metadata:()=>m,toc:()=>y});var r=n(11),a=(n(2735),n(9530)),o=n(2620),i=n(776),s=n(9011),l=n(3154),p=n(7509),u=n(8033);const d={title:"APIs overview",slug:"/developers/apis/"},c=void 0,m={unversionedId:"developers/apis/index",id:"developers/apis/index",title:"APIs overview",description:"WordPress Playground APIs overview",source:"@site/docs/developers/06-apis/01-index.md",sourceDirName:"developers/06-apis",slug:"/developers/apis/",permalink:"/wordpress-playground/developers/apis/",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/developers/06-apis/01-index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"APIs overview",slug:"/developers/apis/"},sidebar:"developersSidebar",previous:{title:"php-wasm/node",permalink:"/wordpress-playground/developers/local-development/php-wasm-node"},next:{title:"Query API",permalink:"/wordpress-playground/developers/apis/query-api"}},h={},y=[{value:"WordPress Playground APIs overview",id:"wordpress-playground-apis-overview",level:2},{value:"Query API",id:"query-api",level:3},{value:"Blueprints",id:"blueprints",level:3},{value:"JavaScript API",id:"javascript-api",level:3},{value:"Playground APIs Concepts",id:"playground-apis-concepts",level:2},{value:"Link to the Playground site",id:"link-to-the-playground-site",level:3},{value:"Embed in an <code>&lt;iframe&gt;</code>",id:"embed-in-an-iframe",level:4},{value:"Browser APIs",id:"browser-apis",level:3},{value:"In Node.js",id:"in-nodejs",level:3}],g={toc:y},v="wrapper";function f(e){let{components:t,...n}=e;return(0,a.kt)(v,(0,r.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"wordpress-playground-apis-overview"},"WordPress Playground APIs overview"),(0,a.kt)("p",null,"WordPress Playground exposes a few APIs that you can use to interact with the Playground:"),(0,a.kt)(i.Z,{toc:y,mdxType:"TOCInline"}),(0,a.kt)("h3",{id:"query-api"},"Query API"),(0,a.kt)("p",null,"Basic operations can be done by adjusting the URL, for example here's how you can preinstall a coblocks plugin:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?plugin=coblocks"},"https://playground.wordpress.net/?plugin=coblocks")),(0,a.kt)("p",null,"Or a theme:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?theme=pendant"},"https://playground.wordpress.net/?theme=pendant")),(0,a.kt)(o.ZP,{mdxType:"ThisIsQueryApi"})," Once you have a URL that you like, you can embed it in your website using an iframe:",(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe style="width: 800px; height: 500px;" src="https://playground.wordpress.net/?plugin=coblocks"></iframe>\n')),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Check the ",(0,a.kt)("a",{parentName:"p",href:"/developers/apis/query-api"},"Query API")," section for more info.")),(0,a.kt)("h3",{id:"blueprints"},"Blueprints"),(0,a.kt)("p",null,"If you need more control over your Playground, you can use JSON Blueprints. For example, here's how to create a post and install a plugin:"),(0,a.kt)(s.ZP,{display:'{\n  "steps": [\n    {\n      "step": "login"\n    },\n    {\n      "step": "installPlugin",\n      "pluginZipFile": {\n        "resource": "wordpress.org/plugins",\n        "slug": "friends"\n      }\n    },\n    {\n      "step": "runPHP",\n      "code": "<?php include \'wordpress/wp-load.php\'; wp_insert_post(array(\'post_title\' => \'Post title\', \'post_content\' => \'Post content\', \'post_status\' => \'publish\', \'post_author\' => 1)); ?>"\n    }\n  ]\n}',blueprint:{steps:[{step:"login"},{step:"installPlugin",pluginZipFile:{resource:"wordpress.org/plugins",slug:"friends"}},{step:"runPHP",code:"<?php\ninclude 'wordpress/wp-load.php';\nwp_insert_post(array(\n'post_title' => 'Post title',\n'post_content' => 'Post content',\n'post_status' => 'publish',\n'post_author' => 1\n));\n"}]},mdxType:"BlueprintExample"}),(0,a.kt)("p",null),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Blueprints play a significant role in WordPress Playground, so they have their own dedicated documentation hub. Learn more about JSON Blueprints at the ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/blueprints"},"Blueprints Docs Hub"),".")),(0,a.kt)("h3",{id:"javascript-api"},"JavaScript API"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"@wp-playground/client")," package provides a JavaScript API you can use to fully control your Playground instance. Here's a very example of what you can do:"),(0,a.kt)(l.ZP,{mdxType:"JSApiShortExample"}),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Check the ",(0,a.kt)("a",{parentName:"p",href:"/developers/apis/javascript-api/"},"JavaScript API")," section for more info.")),(0,a.kt)("h2",{id:"playground-apis-concepts"},"Playground APIs Concepts"),(0,a.kt)("p",null,"WordPress Playground in the browser is all about links and iframes. Regardless of which API you choose, you will use it in one of the following ways:"),(0,a.kt)("h3",{id:"link-to-the-playground-site"},"Link to the Playground site"),(0,a.kt)("p",null,"You can customize WordPress Playground by modifying the ",(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/"},"https://playground.wordpress.net/")," link. You can, for example, create a post, request a specific plugin, or run any PHP code."),(0,a.kt)("p",null,"To prepare such a link, use either the ",(0,a.kt)("a",{parentName:"p",href:"/developers/apis/query-api"},"Query API")," (easy) or the ",(0,a.kt)("a",{parentName:"p",href:"/blueprints"},"JSON Blueprints API")," (medium)."),(0,a.kt)("p",null,'Once it\'s ready, simply post it on your site. It makes a great "Try it yourself" button in a tutorial, for example.'),(0,a.kt)("h4",{id:"embed-in-an-iframe"},"Embed in an ",(0,a.kt)("inlineCode",{parentName:"h4"},"<iframe>")),(0,a.kt)("p",null,"WordPress Playground can be embedded in your app using an ",(0,a.kt)("inlineCode",{parentName:"p"},"<iframe>"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe src="https://playground.wordpress.net/"></iframe>\n')),(0,a.kt)("p",null,"To customize that Playground instance, you can:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Load it from special link prepared using the ",(0,a.kt)("a",{parentName:"li",href:"/developers/apis/query-api"},"Query API")," (easy) or the ",(0,a.kt)("a",{parentName:"li",href:"/blueprints"},"JSON Blueprints API")," (medium)."),(0,a.kt)("li",{parentName:"ul"},"Control it using the ",(0,a.kt)("a",{parentName:"li",href:"/developers/apis/javascript-api/"},"JavaScript API"),".")),(0,a.kt)("p",null,"The JavaScript API gives you the most control, but it is also the least convenient option as it requires loading the Playground Client library."),(0,a.kt)(p.ZP,{mdxType:"PlaygroundWpNetWarning"}),(0,a.kt)("h3",{id:"browser-apis"},"Browser APIs"),(0,a.kt)("p",null,"The following Playground APIs are available in the browser:"),(0,a.kt)(u.ZP,{mdxType:"APIList"}),(0,a.kt)("h3",{id:"in-nodejs"},"In Node.js"),(0,a.kt)("p",null,"The following Playground APIs are available in Node.js:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/blueprints"},"JSON Blueprints API")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/developers/apis/javascript-api/"},"JavaScript API"))),(0,a.kt)("p",null,"These APIs are very similar to their web counterparts, but, unsurprisingly, they are not based or links or iframes."))}f.isMDXComponent=!0}}]);