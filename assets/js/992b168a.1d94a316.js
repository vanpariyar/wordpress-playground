"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[6751,4587],{9011:(e,n,t)=>{t.d(n,{ZP:()=>p});var r=t(11),a=(t(2735),t(9530)),o=t(3355),s=t(7283);const l={toc:[]},i="wrapper";function p(e){let{components:n,...t}=e;return(0,a.kt)(i,(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("div",{className:"margin-vert--sm"},!t.justButton&&(0,a.kt)(s.Z,{title:t.title,language:"json",mdxType:"CodeBlock"},t.display||JSON.stringify(t.blueprint,null,4)),(0,a.kt)(o.m,{blueprint:t.blueprint,mdxType:"BlueprintRunButton"})))}p.isMDXComponent=!0},776:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(2735),a=t(8349);const o={tableOfContentsInline:"tableOfContentsInline_moAP"};function s(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:s}=e;return r.createElement("div",{className:o.tableOfContentsInline},r.createElement(a.Z,{toc:n,minHeadingLevel:t,maxHeadingLevel:s,className:"table-of-contents",linkClassName:null}))}},8349:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(11),a=t(2735),o=t(7585),s=t(2555),l=t(9712);function i(e){let{toc:n,className:t,linkClassName:r,isChild:o}=e;return n.length?a.createElement("ul",{className:o?void 0:t},n.map((e=>a.createElement("li",{key:e.id},a.createElement("a",{href:`#${e.id}`,className:r??void 0,dangerouslySetInnerHTML:{__html:e.value}}),a.createElement(i,{isChild:!0,toc:e.children,className:t,linkClassName:r}))))):null}const p=a.memo(i);function u(e){let{toc:n,className:t="table-of-contents table-of-contents__left-border",linkClassName:i="table-of-contents__link",linkActiveClassName:u,minHeadingLevel:c,maxHeadingLevel:d,...m}=e;const g=(0,o.L)(),v=c??g.tableOfContents.minHeadingLevel,h=d??g.tableOfContents.maxHeadingLevel,y=(0,s.b)({toc:n,minHeadingLevel:v,maxHeadingLevel:h}),f=(0,a.useMemo)((()=>{if(i&&u)return{linkClassName:i,linkActiveClassName:u,minHeadingLevel:v,maxHeadingLevel:h}}),[i,u,v,h]);return(0,l.S)(f),a.createElement(p,(0,r.Z)({toc:y,className:t,linkClassName:i},m))}},9712:(e,n,t)=>{t.d(n,{S:()=>i});var r=t(2735),a=t(7585);function o(e){const n=e.getBoundingClientRect();return n.top===n.bottom?o(e.parentNode):n}function s(e,n){let{anchorTopOffset:t}=n;const r=e.find((e=>o(e).top>=t));if(r){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(o(r))?r:e[e.indexOf(r)-1]??null}return e[e.length-1]??null}function l(){const e=(0,r.useRef)(0),{navbar:{hideOnScroll:n}}=(0,a.L)();return(0,r.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function i(e){const n=(0,r.useRef)(void 0),t=l();(0,r.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:r,linkActiveClassName:a,minHeadingLevel:o,maxHeadingLevel:l}=e;function i(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(r),i=function(e){let{minHeadingLevel:n,maxHeadingLevel:t}=e;const r=[];for(let a=n;a<=t;a+=1)r.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(r.join()))}({minHeadingLevel:o,maxHeadingLevel:l}),p=s(i,{anchorTopOffset:t.current}),u=e.find((e=>p&&p.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(a),e.classList.add(a),n.current=e):e.classList.remove(a)}(e,e===u)}))}return document.addEventListener("scroll",i),document.addEventListener("resize",i),i(),()=>{document.removeEventListener("scroll",i),document.removeEventListener("resize",i)}}),[e,t])}},2555:(e,n,t)=>{t.d(n,{a:()=>o,b:()=>l});var r=t(2735);function a(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const r=t.slice(2,e.level);e.parentIndex=Math.max(...r),t[e.level]=n}));const r=[];return n.forEach((e=>{const{parentIndex:t,...a}=e;t>=0?n[t].children.push(a):r.push(a)})),r}function o(e){return(0,r.useMemo)((()=>a(e)),[e])}function s(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:r}=e;return n.flatMap((e=>{const n=s({toc:e.children,minHeadingLevel:t,maxHeadingLevel:r});return function(e){return e.level>=t&&e.level<=r}(e)?[{...e,children:n}]:n}))}function l(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:o}=e;return(0,r.useMemo)((()=>s({toc:a(n),minHeadingLevel:t,maxHeadingLevel:o})),[n,t,o])}},3355:(e,n,t)=>{t.d(n,{m:()=>a});var r=t(2735);function a(e){let{blueprint:n}=e;const[t,a]=r.useState(!1);if(!n)return null;if(!t)return r.createElement("button",{className:"button button--primary",onClick:()=>{a(!0)}},"Try it out!");const o=`https://playground.wordpress.net/?mode=seamless#${JSON.stringify(n)}`;return r.createElement("iframe",{style:{width:"100%",height:"500px",border:"1px solid #ccc"},src:o})}},7503:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(2735);const a={React:r,...r,css:{textarea:{width:"100%",height:"8lh",display:"block"}},HTML:e=>{let{children:n}=e;return r.createElement("div",{dangerouslySetInnerHTML:{__html:n}})}}},8088:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>u,default:()=>h,frontMatter:()=>p,metadata:()=>c,toc:()=>m});var r=t(11),a=(t(2735),t(9530)),o=t(2620),s=t(776),l=t(9011),i=t(3154);const p={title:"APIs overview",slug:"/apis-overview"},u="APIs overview",c={unversionedId:"playground-apis/index",id:"playground-apis/index",title:"APIs overview",description:"WordPress Playground exposes a few APIs that you can use to interact with the Playground:",source:"@site/docs/06-playground-apis/01-index.md",sourceDirName:"06-playground-apis",slug:"/apis-overview",permalink:"/wordpress-playground/docs/apis-overview",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/06-playground-apis/01-index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"APIs overview",slug:"/apis-overview"},sidebar:"tutorialSidebar",previous:{title:"Usage in Node.js",permalink:"/wordpress-playground/docs/usage-in-node-js"},next:{title:"Concepts",permalink:"/wordpress-playground/docs/playground-apis/api-concepts"}},d={},m=[{value:"Query API",id:"query-api",level:2},{value:"Blueprints",id:"blueprints",level:2},{value:"JavaScript API",id:"javascript-api",level:2}],g={toc:m},v="wrapper";function h(e){let{components:n,...t}=e;return(0,a.kt)(v,(0,r.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"apis-overview"},"APIs overview"),(0,a.kt)("p",null,"WordPress Playground exposes a few APIs that you can use to interact with the Playground:"),(0,a.kt)(s.Z,{toc:m,mdxType:"TOCInline"}),(0,a.kt)("h2",{id:"query-api"},"Query API"),(0,a.kt)("p",null,"Basic operations can be done by adjusting the URL, for example here's how you can preinstall a coblocks plugin:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?plugin=coblocks"},"https://playground.wordpress.net/?plugin=coblocks")),(0,a.kt)("p",null,"Or a theme:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?theme=pendant"},"https://playground.wordpress.net/?theme=pendant")),(0,a.kt)(o.ZP,{mdxType:"ThisIsQueryApi"})," Once you have a URL that you like, you can embed it in your website using an iframe:",(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe style="width: 800px; height: 500px;" src="https://playground.wordpress.net/?plugin=coblocks"></iframe>\n')),(0,a.kt)("h2",{id:"blueprints"},"Blueprints"),(0,a.kt)("p",null,"If you need more control over your Playground, you can use JSON Blueprints. For example, here's how to create a post and a install a plugin:"),(0,a.kt)(l.ZP,{display:'{\n    "steps": [\n        { "step": "login" },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "friends"\n            }\n        },\n        {\n            "step": "runPHP",\n            "code": `<?php\ninclude \'wordpress/wp-load.php\';\nwp_insert_post(array(\n\'post_title\' => \'Post title\',\n\'post_content\' => \'Post content\',\n\'post_status\' => \'publish\',\n\'post_author\' => 1\n));\n`\n}\n]\n}',blueprint:{steps:[{step:"login"},{step:"installPlugin",pluginZipFile:{resource:"wordpress.org/plugins",slug:"friends"}},{step:"runPHP",code:"<?php\ninclude 'wordpress/wp-load.php';\nwp_insert_post(array(\n'post_title' => 'Post title',\n'post_content' => 'Post content',\n'post_status' => 'publish',\n'post_author' => 1\n));\n"}]},mdxType:"BlueprintExample"}),(0,a.kt)("p",null,"Learn more about ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/docs/blueprints-api/index"},"JSON Blueprints"),"."),(0,a.kt)("h2",{id:"javascript-api"},"JavaScript API"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"@wp-playground/client")," package provides a JavaScript API you can use to fully control your Playground instance. Here's a very example of what you can do:"),(0,a.kt)(i.ZP,{mdxType:"JSApiShortExample"}),(0,a.kt)("p",null,"Learn more about the ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/docs/javascript-api/index"},"JavaScript API"),"."))}h.isMDXComponent=!0},3154:(e,n,t)=>{t.d(n,{ZP:()=>l});var r=t(11),a=(t(2735),t(9530));const o={toc:[]},s="wrapper";function l(e){let{components:n,...t}=e;return(0,a.kt)(s,(0,r.Z)({},o,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe\n    id="wp"\n    style="width: 100%; height: 300px; border: 1px solid #000;"\n></iframe>\n<script type="module">\n    // Use unpkg for convenience\n    import { startPlaygroundWeb } from \'https://unpkg.com/@wp-playground/client/index.js\';\n\n    const client = await startPlaygroundWeb({\n        iframe: document.getElementById(\'wp\'),\n        remoteUrl: `https://playground.wordpress.net/remote.html`,\n    });\n    // Let\'s wait until Playground is fully loaded\n    await client.isReady();\n<\/script>\n')))}l.isMDXComponent=!0},2620:(e,n,t)=>{t.d(n,{ZP:()=>l});var r=t(11),a=(t(2735),t(9530));const o={toc:[]},s="wrapper";function l(e){let{components:n,...t}=e;return(0,a.kt)(s,(0,r.Z)({},o,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This is called ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/docs/query-api"},"Query API")," and you can learn more about it ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/docs/query-api"},"here"),"."))}l.isMDXComponent=!0}}]);