(function(){"use strict";onmessage=async function(a){const n=a.data.path,r=a.data.content,o=n.split("/").filter(e=>e.length>0),c=o.pop();if(c===void 0)throw new Error(`Invalid path: '${n}'`);let t=await navigator.storage.getDirectory();for(const e of o)t=await t.getDirectoryHandle(e);const s=await(await t.getFileHandle(c,{create:!0})).createSyncAccessHandle();try{const e=new TextEncoder().encode(r);s.write(e),postMessage("done")}finally{s.close()}},postMessage("ready")})();
